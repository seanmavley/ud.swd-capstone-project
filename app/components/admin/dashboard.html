<div class="container">
  <div class="row">
    <div ng-show="!authInfo">
      <div class="loader">
        <span>{</span><span>}</span>
      </div>
    </div>
    <div class="col-sm-6" ng-show="authInfo">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Profile Info</h3>
        </div>
        <div class="panel-body">
          <ul class="list-group">
            <li class="list-group-item">Username: {{ authInfo.username || "No Username"}} <span class="badge" tabindex="0" role="button" data-toggle="popover" data-trigger="hover" title="Please note" data-content="You can change username only once!" data-placement="bottom"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span></span>
            </li>
            <li class="list-group-item">Name: {{ authInfo.displayName || "No name" }} </li>
            <li class="list-group-item">Email: {{ authInfo.email || "No email" }}</li>
          </ul>
          <p ng-show="authInfo.photoURL">Image:
            <img ng-src="{{ authInfo.photoURL }}">
          </p>
        </div>
        <div class="panel-footer" ng-show="notVerified">
          <p>
            <a ng-click="sendVerifyEmail()" class="btn btn-lg btn-danger">Verify Email</a>
          </p>
        </div>
      </div>
    </div>
    <div class="col-sm-6" ng-show="authInfo">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">My CodeSides</h3>
        </div>
        <div class="panel-body" ng-show="!list.length">
          <span>You have not started any new CodeSides</span>
        </div>
        <ul class="list-group">
          <a ng-repeat="item in list" ng-show="list" ui-sref="detail({ codeId: item.$id })" class="list-group-item">{{ item.title }}</a>
        </ul>
        <div class="panel-footer">
          <a href="">View all</a>
        </div>
      </div>
    </div>
  </div>
  <hr>
  <div class="row" ng-show="authInfo">
    <div class="col-sm-6">
      <form ng-submit="updateUser()">
        <h4>Update Profile</h4>
        <div class="form-group" ng-hide="formData.username && hideUsername">
          <label for="username">Username </label>
          <input type="text" id="username" class="form-control" ng-model="formData.username" placeholder="eg. e-equals-mcsquare">
        </div>
        <div class="form-group">
          <label for="name">Your name</label>
          <input type="text" name="name" class="form-control" ng-model="formData.displayName" placeholder="eg. Abrakadabra Houdini" required>
        </div>
        <input type="submit" class="btn btn-default">
      </form>
    </div>
    <hr class="visible-xs">
    <div class="col-sm-6">
      <form ng-submit="updatePassword()">
        <h4>Update Password</h4>
        <div class="form-group">
          <label for="password">New Password</label>
          <input type="password" class="form-control" id="password" name="password" ng-model="newPassword">
        </div>
        <input type="submit" class="btn btn-default">
      </form>
    </div>
  </div>
  <!-- <div class="small-12 columns" ng-show="authInfo.admin">
        <a class="button" ng-click="loadLanguages()">Initialize Languages</a>
    </div> -->
</div>
<script type="text/javascript">
/* 
    This should be here, otherwise doesn't initialize properly work.
*/
$(document).ready(function() {
  $('[data-toggle="popover"]').popover();
});
</script>
